"""–ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—ñ–≤ Book —ñ Library –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–Ω–∏–≥."""


class Book:
    """–ö–ª–∞—Å –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∫–Ω–∏–≥–∏."""

    def __init__(self, title: str, author: str, year: int, genre: str):
        """–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–Ω–∏–≥–∏ –∑ –Ω–∞–∑–≤–æ—é, –∞–≤—Ç–æ—Ä–æ–º, —Ä–æ–∫–æ–º —Ç–∞ –∂–∞–Ω—Ä–æ–º."""
        self.title = title
        self.author = author
        self.year = year
        self.genre = genre

    def __str__(self):
        """–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Ä—è–¥–∫–æ–≤–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∫–Ω–∏–≥–∏."""
        return f"'{self.title}' ‚Äî {self.author}, {self.year} ({self.genre})"


class Library:
    """–ö–ª–∞—Å –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –∑ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º."""

    def __init__(self):
        """–°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ä–æ–∂–Ω—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É."""
        self.books = []
        self._index = 0

    def __iter__(self):
        """–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä—É –∫–Ω–∏–≥."""
        self._index = 0
        return self

    def __next__(self):
        """–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–Ω–∏–≥—É –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –∞–±–æ StopIteration."""
        if self._index < len(self.books):
            book = self.books[self._index]
            self._index += 1
            return book
        raise StopIteration

    def __len__(self):
        """–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–Ω–∏–≥ —É –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ."""
        return len(self.books)

    def __str__(self):
        """–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –∫–Ω–∏–≥ –∞–±–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—Ä–æ–∂–Ω—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É."""
        return (
            "\n".join(str(book) for book in self.books)
            if self.books
            else "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ø–æ—Ä–æ–∂–Ω—è"
        )

    def add_book(self, book: Book):
        """–î–æ–¥–∞—î–º–æ –∫–Ω–∏–≥—É –¥–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏."""
        self.books.append(book)

    def remove_book(self, title: str):
        """–í–∏–¥–∞–ª—è—î–º–æ –∫–Ω–∏–≥—É –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –∑–∞ –Ω–∞–∑–≤–æ—é."""
        self.books = [b for b in self.books if b.title != title]


def main():
    """–ú–µ–Ω—é –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é."""
    lib = Library()

    while True:
        print("\n--- –ú–ï–ù–Æ ---")
        print("1. –î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É")
        print("2. –í–∏–¥–∞–ª–∏—Ç–∏ –∫–Ω–∏–≥—É")
        print("3. –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –∫–Ω–∏–≥–∏")
        print("4. –í–∏—Ö—ñ–¥")

        choice = input("–û–±–µ—Ä—ñ—Ç—å –¥—ñ—é: ")

        if choice == "1":
            title = input("–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∫–Ω–∏–≥–∏: ")
            author = input("–í–≤–µ–¥—ñ—Ç—å –∞–≤—Ç–æ—Ä–∞: ")
            year = input("–í–≤–µ–¥—ñ—Ç—å —Ä—ñ–∫ –≤–∏–¥–∞–Ω–Ω—è: ")
            genre = input("–í–≤–µ–¥—ñ—Ç—å –∂–∞–Ω—Ä: ")

            book = Book(title, author, year, genre)
            lib.add_book(book)
            print("‚úÖ –ö–Ω–∏–≥—É –¥–æ–¥–∞–Ω–æ!")

        elif choice == "2":
            title = input("–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∫–Ω–∏–≥–∏ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è: ")
            lib.remove_book(title)
            print("üóë –ö–Ω–∏–≥—É –≤–∏–¥–∞–ª–µ–Ω–æ (—è–∫—â–æ –±—É–ª–∞ —É –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ).")

        elif choice == "3":
            print("\nüìö –£ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ:")
            print(lib)

        elif choice == "4":
            print("üëã –í–∏—Ö—ñ–¥ –∑ –ø—Ä–æ–≥—Ä–∞–º–∏.")
            break

        else:
            print("‚ùå –ù–µ–≤—ñ—Ä–Ω–∏–π –≤–∏–±—ñ—Ä, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.")


if __name__ == "__main__":
    main()
